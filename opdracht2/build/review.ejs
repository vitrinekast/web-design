<%
  var currentFile = data.files.find((item, index) => {
    return item.id === parseInt(data.params.fileid)
  })
  if(!currentFile) {
    router.navigate(`review/${data.id}/${data.files.length}/thanks`);
  }
  
  var finishedFiles = data.files.filter((item) => {
    return item.reviewed
  }).length
  var progress = (data.params.fileid/data.files.length)*100;

 %>


<div class="layout layout--detail">
  <div class="layout--left">
    <div class="fn-api-file">
      
<header class='header-review'>
  <h2 class='header__title'>
    <%= data.repoName %>/
    <%= currentFile.name %>
  </h2>
  <progress class='progress' value="<%= progress %>" max="100">
  </progress>
  <p>Review voortgang:
    <%= data.params.fileid %> van de
    <%= data.files.length %> afgerond
  </p>
</header> 
      
      
      <article class="">
        <p>
          Tijd voor de code review! Gebruik de pijltjes toetsen om de rijen code te selecteren, en de shift om er meerdere te selecteren.
        </p>
        <h3>De code:</h3>
      </article>
      <div class="article--code">
        <code class='line-numbers'>
          <pre class="fn-review-elem line-numbers " id="editor"></pre>
        </code>
        <nav class='nav-vote'>
          <p class='nav-vote__description'>Leave a review of a line of code using the power of emoji!</p>
        
          <div  class='nav-vote__item fn-vote-up'>
          <span class='text--large'>🤘</span>(press g, h, j, k or l) </div>
          <div href="#" class='nav-vote__item fn-vote-down'>
            <span class='text--large'>🧐</span>(press f, d, s or a) </div>
        </nav>
      </div>
    </div>
  </div>
  <div class="layout--right">
    <aside class=""></aside>
  </div>
</div>
<footer class='footer footer-nav'>
  
    <a href="<%= window.location.hash %>/finish" class='button button--wide button--lg' data-navigo>
      <div class="button__inner">
        Naar het volgende bestand
      </div>
    </a>
  
</footer>